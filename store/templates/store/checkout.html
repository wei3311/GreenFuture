{% extends 'store/main.html' %}
{% load static %}
{% block content %}

<div class="container">
  <div class="py-5 text-center">
    <img class="d-block mx-auto mb-4" src="https://i.ibb.co/TT50KJw/Green-Future-Logo.png" alt="" width="72"
      height="72">
    <h2>Check Out</h2>
    <h3>Please fill in the required details below.</h3>
  </div>

  <div class="row">
    <div class="col-md-3 mb-4">
      <h4 class="d-flex justify-content-between align-items-center mb-3">
        <span>Your cart</span>
      </h4>

      <ul class="list-group mb-3">
        {% for item in items %}
        <li class="list-group-item d-flex justify-content-between lh-condensed">
          <div>
            <h6 class="my-0">{{item.product.name}}</h6>
            <span class="text-muted">x {{item.quantity}}</span>
          </div>
          <span class="text-muted">RM {{item.product.price|floatformat:2}}</span>
        </li>
        {% endfor %}

        <li class="list-group-item d-flex justify-content-between">
          <span>Total </span>
          <strong>(RM) {{order.get_cart_total|floatformat:2}}</strong>
        </li>

        <li class="list-group-item d-flex justify-content-between">
          <span class="text-danger">*Only Cash-on-Delivery is available</span>
        </li>
      </ul>

    </div>

    <div class="col-md-8" id="shipping-info">
      <form id="form" method="POST">
        {% csrf_token %}
        <h4 class="mb-3">Shipping Details</h4>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="receiver">Receiver Name</label>
            <input type="text" class="form-control" id="receiver" name="receiver" required
              oninvalid="this.setCustomValidity('Please enter Receiver Name')" oninput="this.setCustomValidity('')">
          </div>

          <div class="col-md-6">
            <label for="contactNo">Contact Number</label>
            <input type="text" class="form-control" id="contactNo" name="contactNo" required
              oninvalid="this.setCustomValidity('Please enter Contact Number')" oninput="this.setCustomValidity('')">
          </div>
        </div>

        <hr class="my-4">
        <div class="row">

          <div class="mb-3">
            <label for="address">Address</label>
            <input type="text" class="form-control" id="address" name="address" required
              oninvalid="this.setCustomValidity('Please enter your Shipping Address')"
              oninput="this.setCustomValidity('')">
          </div>

          <div class="row mb-3">
            <div class="col-md-4 ">
              <label for="city">City</label>
              <input type="text" class="form-control" id="city" name="city" required
                oninvalid="this.setCustomValidity('Please enter your City')" oninput="this.setCustomValidity('')">
            </div>

            <div class="col-md-4">
              <label for="state">State</label>
              <select id="state" class="form-select" name="state">
                <option selected>Johor</option>
                <option>Kedah</option>
                <option>Kelantan</option>
                <option>Kuala Lumpur</option>
                <option>Labuan</option>
                <option>Melaka</option>
                <option>Negeri Sembilan</option>
                <option>Pahang</option>
                <option>Penang</option>
                <option>Perak</option>
                <option>Perlis</option>
                <option>Putrajaya</option>
                <option>Sabah</option>
                <option>Sarawak</option>
                <option>Selangor</option>
                <option>Terengganu</option>
              </select>
            </div>

            <div class="col-md-4">
              <label for="zipcode">Postal Code</label>
              <input type="text" class="form-control" id="zipcode" name="zipcode" required
                oninvalid="this.setCustomValidity('Please enter ZipCode here')" oninput="this.setCustomValidity('')">
            </div>

          </div>


          <hr class="my-4">

          <input type="submit" class="btn btn-success btn-lg btn-block mb-4" id="pay-now"></input>
        </div>
      </form>
    </div>
  </div>
</div>


{% endblock content %}